(this["webpackJsonp@fluuuid/nft-marketplace"]=this["webpackJsonp@fluuuid/nft-marketplace"]||[]).push([[0],{156:function(e,t){},185:function(e,t,n){"use strict";n.r(t);var r,a,c=n(1),o=n.n(c),i=n(130),s=n.n(i),u=n(199),l=n(195),d=n(140),b=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,296)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},h=n(45),f=n(4),j=n.n(f),p=n(25),x=n(28),O=n(196),v=n(197),g=n(100),m=n(112),w=n(134),y=n(91),k=Object(w.a)((function(e,t){return{isAuthenticated:!1,contract:void 0,user:void 0,tokensOnSale:[],ethPrice:"0.0",activatingConnector:void 0,transaction:void 0,setAuthenticated:function(t){return e({isAuthenticated:t})},setContract:function(){var t=Object(p.a)(j.a.mark((function t(n,r){var a,c,o,i,s,u;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n){t.next=3;break}throw new Error("No Web3 Found");case 3:if(a=function(e){switch(e){case 1337:return 5777;default:return e}},c=m.networks[String(a(r))]){t.next=7;break}throw new Error("The network you selected is no supported yet.");case 7:return o=c.address,i=new y.a(o,m.abi,n.getSigner()),t.next=11,i.name();case 11:return s=t.sent,t.next=14,i.symbol();case 14:u=t.sent,e({library:n,contract:i,contractDetails:{name:s,symbol:u,address:o}}),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),console.log(t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(e,n){return t.apply(this,arguments)}}(),setUser:function(){var n=Object(p.a)(j.a.mark((function n(r){var a,c,o,i,s,u,l;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,a=t(),c=a.contract,o=a.user,i=a.library,s=a.getUserTokens,i){n.next=4;break}throw new Error("No Web3 Found");case 4:if(c){n.next=6;break}throw new Error("No contract found");case 6:if(o||r){n.next=8;break}throw new Error("No user found");case 8:return n.t0=O.b,n.next=11,i.getBalance(r||(null===o||void 0===o?void 0:o.address)||"");case 11:return n.t1=n.sent,u=n.t0.formatEther.call(n.t0,n.t1),n.next=15,s(r||(null===o||void 0===o?void 0:o.address));case 15:l=n.sent,e({isAuthenticated:!0,user:{address:r||(null===o||void 0===o?void 0:o.address)||"",balance:u,ownedTokens:l}}),n.next=22;break;case 19:n.prev=19,n.t2=n.catch(0),console.log(n.t2);case 22:case"end":return n.stop()}}),n,null,[[0,19]])})));return function(e){return n.apply(this,arguments)}}(),setTokensOnSale:function(t){return e({tokensOnSale:t})},setEthPrice:function(t){return e({ethPrice:t})},setActivatingConnector:function(t){return e({activatingConnector:t})},setTransaction:function(t){return e({transaction:t})},getUserTokens:function(){var e=Object(p.a)(j.a.mark((function e(n){var r,a,c,o,i,s,u,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=t(),a=r.contract,c=r.library,o=r.user,c){e.next=4;break}throw new Error("No Web3 Found");case 4:if(a){e.next=6;break}throw new Error("No contract found");case 6:if((null===o||void 0===o?void 0:o.address)||n){e.next=8;break}throw new Error("No user found");case 8:return i=(null===o||void 0===o?void 0:o.address)||n,s=a.filters.Transfer(null,i),e.next=12,a.queryFilter(s,0,"latest");case 12:return u=e.sent,l=new Map,e.next=16,Promise.all(u.map(function(){var e=Object(p.a)(j.a.mark((function e(t){var n,r,c,o,s,u,d;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.ownerOf(null===(n=t.args)||void 0===n?void 0:n.tokenId);case 2:if(e.sent!==i){e.next=12;break}return e.next=6,a.tokenMeta(null===(r=t.args)||void 0===r?void 0:r.tokenId);case 6:c=e.sent,o=c.id,s=c.name,u=c.price,d=c.uri,l.set(d,{id:o,name:s,price:u,uri:d});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 16:return e.abrupt("return",Array.from(l).map((function(e){var t=Object(x.a)(e,2);t[0];return t[1]})));case 19:return e.prev=19,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 23:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),buyToken:function(){var e=Object(p.a)(j.a.mark((function e(n,r){var a,c,o,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=t(),c=a.setTransaction,o=a.contract){e.next=4;break}throw new Error("No contract found");case 4:return e.next=6,o.purchaseToken(n,{value:r});case 6:i=e.sent,c(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("on buy",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),updateTokensOnSale:function(){var e=Object(p.a)(j.a.mark((function e(){var n,r,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t(),r=n.contract,a=n.setTokensOnSale,r){e.next=4;break}throw new Error("No contract found");case 4:return e.next=6,r.getAllOnSale();case 6:return c=e.sent.reduce((function(e,t){return""!==t.uri&&e.push({id:t.id,price:t.price,name:t.name,uri:t.uri}),e}),[]),a(c),e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),setTokenSale:function(){var e=Object(p.a)(j.a.mark((function e(n,r){var a,c,o,i,s,u,l=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=l.length>2&&void 0!==l[2]&&l[2],e.prev=1,c=t(),o=c.contract,i=c.user,s=c.setTransaction,o){e.next=5;break}throw new Error("No contract found");case 5:if(i){e.next=7;break}throw new Error("No user found");case 7:return e.next=9,o.setTokenSale(n,a,r,{from:i.address});case 9:return u=e.sent,s(u),e.abrupt("return",!0);case 14:return e.prev=14,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,n){return e.apply(this,arguments)}}(),transferToken:function(){var e=Object(p.a)(j.a.mark((function e(n,r){var a,c,o,i,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=t(),c=a.contract,o=a.user,i=a.setTransaction,c){e.next=4;break}throw new Error("No contract found");case 4:if(o){e.next=6;break}throw new Error("No user found");case 6:return e.next=8,c["safeTransferFrom(address,address,uint256)"](o.address,r,n,{from:o.address});case 8:s=e.sent,i(s),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}()}})),S=function(){var e=Object(p.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=k.getState(),(0,n.setEthPrice)("1")}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(p.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=k.getState(),r=n.contract){e.next=4;break}throw new Error("Contract not found");case 4:return e.next=6,null===r||void 0===r?void 0:r.ownerOf(t);case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=Math.round(e.length/t);return"".concat(e.substr(0,n),"...").concat(e.substr(e.length-n,e.length))},T=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVICE_URL,_="".concat(T,"/ethusd"),F=n(6),A=function(e){var t=e.token,n=e.isOnSale,r=e.onTransfer,a=e.onBuy,o=e.onSale,i=Object(c.useState)(!1),s=Object(x.a)(i,2),u=s[0],l=s[1],d=Object(c.useState)(!1),b=Object(x.a)(d,2),h=b[0],f=b[1],m=Object(c.useState)(""),w=Object(x.a)(m,2),y=w[0],S=w[1],T=Object(c.useState)(""),_=Object(x.a)(T,2),A=_[0],W=_[1],R=k(),P=R.user,N=R.ethPrice,U=R.contractDetails,D=R.transferToken,H=R.buyToken,I=R.setTokenSale,z=function(){var e=Object(p.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),r&&O.b.isAddress(y)&&(D(t.id,y),l(!1));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(p.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),o){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,I(t.id,O.b.parseEther(A),!0);case 6:f(!1),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(3),e.t0;case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),M=Object(g.a)(t.id,C).data,B=t,K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";return new Intl.NumberFormat("us-GB",{style:"currency",currency:"USD"}).format(Number(O.b.formatEther(e))*Number(t))}(t.price,N);return B?B.name?Object(F.jsxs)(v.c,{variant:"nft",children:[Object(F.jsx)(v.i,{sx:{width:"100%",bg:"white",borderBottom:"1px solid black"},src:B.uri}),Object(F.jsxs)(v.a,{p:3,pt:2,children:[Object(F.jsx)(v.h,{as:"h2",children:B.name}),Object(F.jsx)(v.e,{variant:"divider.nft"}),Object(F.jsxs)(v.a,{children:[Object(F.jsx)(v.n,{sx:{color:"lightBlue",fontSize:1,fontWeight:"bold"},children:"Price"}),Object(F.jsxs)(v.h,{as:"h3",sx:{color:"green",m:0,fontWeight:"bold"},children:[O.a.EtherSymbol," ",Number(O.b.formatEther(t.price)).toFixed(2)," ",Object(F.jsxs)(v.n,{sx:{color:"navy"},as:"span",variant:"text.body",children:["(",K,")"]})]}),M&&"string"===typeof M&&!r&&Object(F.jsxs)(v.a,{mt:2,children:[Object(F.jsx)(v.n,{as:"p",sx:{color:"lightBlue",fontSize:1,fontWeight:"bold"},children:"Owner"}),Object(F.jsx)(v.l,{target:"_blank",href:"https://rinkeby.etherscan.io/address/".concat(M),variant:"owner",style:{textOverflow:"ellipsis",width:"100%",position:"relative",overflow:"hidden"},children:E(M)})]}),Object(F.jsx)(v.a,{mt:2,children:Object(F.jsx)(v.l,{target:"_blank",href:"https://testnets.opensea.io/assets/".concat(null===U||void 0===U?void 0:U.address,"/").concat(t.id),variant:"openSea",children:"View on Opensea.io"})})]}),r&&Object(F.jsxs)(v.f,{mt:3,sx:{justifyContent:"center"},children:[u&&Object(F.jsxs)(v.a,{sx:{width:"100%"},children:[Object(F.jsx)(v.f,{onSubmit:z,sx:{width:"100%",flexDirection:"column"},as:"form",children:Object(F.jsx)(v.j,{onChange:function(e){return S(e.currentTarget.value)},placeholder:"ETH Address 0x0..."})}),Object(F.jsxs)(v.f,{mt:2,children:[Object(F.jsx)(v.b,{sx:{bg:"green"},onClick:z,variant:"quartiary",children:"Confirm"}),Object(F.jsx)(v.b,{sx:{bg:"red"},ml:2,onClick:function(){return l(!1)},variant:"quartiary",children:"Cancel"})]})]}),h&&Object(F.jsxs)(v.a,{sx:{width:"100%"},children:[Object(F.jsx)(v.f,{onSubmit:z,sx:{width:"100%",flexDirection:"column"},as:"form",children:Object(F.jsx)(v.j,{onChange:function(e){return W(e.currentTarget.value)},placeholder:"Token Price in ETH"})}),Object(F.jsxs)(v.f,{mt:2,children:[Object(F.jsx)(v.b,{sx:{bg:"green"},onClick:L,variant:"quartiary",children:"Confirm"}),Object(F.jsx)(v.b,{sx:{bg:"red"},ml:2,onClick:function(){return f(!1)},variant:"quartiary",children:"Cancel"})]})]}),!u&&!h&&Object(F.jsxs)(v.f,{sx:{flexDirection:"column",width:"100%",justifyContent:"center"},children:[Object(F.jsx)(v.b,{onClick:function(){return l(!u)},variant:"tertiary",children:"Transfer"}),n?Object(F.jsx)(v.b,{mt:2,onClick:function(){return o&&I(t.id,t.price,!1)},variant:"tertiary",children:"Remove from Sale"}):Object(F.jsx)(v.b,{mt:2,onClick:function(){return f(!h)},variant:"tertiary",children:"Put Token for Sale"})]})]}),a&&Object(F.jsx)(v.f,{mt:3,sx:{justifyContent:"center",width:"100%"},children:Object(F.jsx)(v.b,{sx:{opacity:(null===P||void 0===P?void 0:P.ownedTokens.find((function(e){return O.b.formatUnits(e.id)===O.b.formatUnits(t.id)})))?.5:1,pointerEvents:(null===P||void 0===P?void 0:P.ownedTokens.find((function(e){return O.b.formatUnits(e.id)===O.b.formatUnits(t.id)})))?"none":"visible"},onClick:function(e){e.preventDefault(),a&&H(t.id,t.price)},variant:"quartiary",children:"Buy Token"})})]})]}):null:Object(F.jsx)(v.c,{variant:"nft",children:Object(F.jsx)(v.m,{})})},W=n(20),R=function(){var e=Object(W.g)(),t=Object(W.h)(),n=k(),r=n.user,a=n.isAuthenticated;return Object(F.jsxs)(v.a,{bg:"black",children:[Object(F.jsxs)(v.f,{sx:{alignItems:"center",p:3},as:"nav",children:[Object(F.jsx)(v.i,{onClick:function(){e.push("/")},sx:{width:50,cursor:"pointer"},src:"/static/logo.png"}),Object(F.jsxs)(v.h,{sx:{ml:[1,2],color:"white"},as:"h4",children:["ERC721 Marketplace"," ",Object(F.jsx)(v.n,{sx:{display:["none","block"]},children:"+ OpenSea.io on Rinkeby Network"})]}),Object(F.jsx)(D,{})]}),a&&r&&Object(F.jsxs)(v.f,{bg:"midGray",py:3,sx:{justifyContent:"center"},children:[Object(F.jsx)(v.l,{sx:{pointerEvents:"/"===t.pathname?"none":"visible",color:"/"===t.pathname?"green":"white"},onClick:function(){return e.push("/")},children:"Marketplace"}),Object(F.jsx)(v.a,{sx:{width:50}}),Object(F.jsx)(v.l,{sx:{pointerEvents:"/profile"===t.pathname?"none":"visible",color:"/profile"===t.pathname?"green":"white"},onClick:function(){return e.push("/profile")},children:"Profile"})]})]})},P=n(18),N=function(){var e=k(),t=e.user,n=e.tokensOnSale,r=k(Object(c.useCallback)((function(e){return e.updateTokensOnSale}),[])),a=Object(c.useState)("alpha"),o=Object(x.a)(a,2),i=o[0],s=o[1];return Object(c.useEffect)((function(){r()}),[r]),Object(F.jsxs)(v.a,{children:[Object(F.jsx)(v.h,{as:"h1",children:"Marketplace"}),Object(F.jsxs)(v.f,{sx:{alignItems:"center"},mb:3,children:[Object(F.jsx)(v.h,{as:"h3",sx:{color:"lightGray"},children:"Order:"}),Object(F.jsxs)(v.f,{ml:3,children:[Object(F.jsx)(v.b,{mr:2,onClick:function(){return s("alpha")},variant:"filter",disabled:"alpha"===i,children:"Alphabetically"}),Object(F.jsx)(v.b,{onClick:function(){return s("price")},variant:"filter",disabled:"price"===i,children:"Price"})]})]}),Object(F.jsx)(v.g,{gap:4,columns:["1fr 1fr","1fr 1fr","1fr 1fr 1fr"],children:null===n||void 0===n?void 0:n.sort((function(e,t){return"alpha"===i?P.a.from(e.id).toString().localeCompare(P.a.from(t.id).toString(),void 0,{numeric:!0}):Number(O.b.formatEther(e.price.sub(t.price)))})).map((function(e,n){return Object(F.jsx)(A,{onBuy:!(null===t||void 0===t?void 0:t.ownedTokens.find((function(t){return t.id===e.id}))),token:e},n)}))})]})},U=n(126),D=function(){var e=k(),t=e.user,n=e.isAuthenticated,r=Object(W.g)();return Object(F.jsx)(v.f,{sx:{ml:"auto",justifySelf:"flex-end"},children:n&&t&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(v.a,{sx:{display:["none","block"]},children:[Object(F.jsx)(v.h,{sx:{p:0,color:"white"},as:"h4",children:E(t.address)}),Object(F.jsxs)(v.h,{sx:{p:0,mt:1,textAlign:"right",color:"white"},as:"h5",children:[U.a,t.balance]})]}),Object(F.jsx)(v.a,{onClick:function(){r.push("/profile")},sx:{cursor:"pointer",ml:[0,3],height:30,width:30,borderRadius:"100%"},children:Object(F.jsx)(M,{size:30,address:t.address})})]})})},H=n(11),I=function(e){var t=e.component,n=e.path,r=k().isAuthenticated;return Object(F.jsx)(W.b,{path:n,render:function(e){return r?Object(F.jsx)(t,Object(H.a)({},e)):Object(F.jsx)(W.a,{to:"/"})}})},z=n(138),L=n.n(z),M=function(e){var t=e.address,n=e.size,r=void 0===n?16:n,a=Object(c.useRef)(null);return Object(c.useEffect)((function(){if(a.current)try{a.current.innerHTML="",a.current.appendChild(L()(r,parseInt(t.slice(2,10),16)))}catch(e){console.log(e)}}),[t,r]),Object(F.jsx)(v.f,{ref:a,sx:{justifyContent:"center",width:r+2}})},B=function(){var e=k(Object(c.useCallback)((function(e){return{setTransaction:e.setTransaction,setUser:e.setUser,updateTokensOnSale:e.updateTokensOnSale}}),[])),t=e.setTransaction,n=e.setUser,r=e.updateTokensOnSale,a=Object(c.useRef)(k.getState().transaction),o=Object(c.useState)(!1),i=Object(x.a)(o,2),s=i[0],u=i[1],l=Object(c.useCallback)(Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:t(void 0),r(),u(!1);case 5:case"end":return e.stop()}}),e)}))),[t,n,r]);return Object(c.useEffect)((function(){return k.subscribe(function(){var e=Object(p.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.transaction,e.prev=1,a.current=n,n){e.next=5;break}return e.abrupt("return");case 5:return u(!0),e.next=8,n.wait();case 8:e.sent.confirmations>=1&&l(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("transaction",e.t0),u(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()),function(){k.destroy()}}),[l]),s?Object(F.jsx)(v.c,{variant:"transaction",children:Object(F.jsxs)(v.f,{sx:{alignItems:"center"},children:[Object(F.jsx)(v.m,{size:20,color:"white",sx:{mr:2}})," Transaction:"," ",E(a.current.hash)]})}):null},K=n(35),q=n(86),V=n(99);!function(e){e.Metamask="Metamask",e.WalletConnect="WalletConnect"}(a||(a={}));var G,Y={1:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_RPC_URL_1,4:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_RPC_URL_4},J=new q.a({supportedChainIds:[5777,1337,4]}),X=new V.b({qrcode:!0,infuraId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_INFURA_ID,rpc:{4:Y[4]},chainId:4,supportedChainIds:[4]}),Q=(r={},Object(K.a)(r,a.Metamask,J),Object(K.a)(r,a.WalletConnect,X),r),Z=(G={},Object(K.a)(G,a.Metamask,"https://docs.metamask.io/metamask-fox.svg"),Object(K.a)(G,a.WalletConnect,"https://raw.githubusercontent.com/WalletConnect/walletconnect-assets/b9644035864fb4b6d6ed55e0f67ad302377bd6f1/svg/original/walletconnect-logo.svg"),G),$=function(){var e=k(),t=e.activatingConnector,n=e.setActivatingConnector,r=Object(h.c)(),a=r.connector,c=r.activate;return Object(F.jsx)(v.f,{sx:{justifyContent:"center"},children:Object.keys(Q).map((function(e){var r=Q[e],o=r===t,i=r===a;return Object(F.jsxs)(v.b,{mt:2,mr:2,variant:"connect",sx:{borderColor:o?"orange":i?"green":"unset",position:"relative",maxWidth:250},onClick:function(){n(r),c(Q[e])},children:[Z[e]&&Object(F.jsx)(v.i,{sx:{width:35,height:35},mr:3,src:Z[e]}),e,o&&Object(F.jsx)(v.m,{size:20,color:"white",sx:{ml:3}})]},e)}))})},ee=function(){var e=k().user,t=Object(h.c)().active;return Object(F.jsxs)(F.Fragment,{children:[!e&&Object(F.jsx)($,{}),e&&t&&Object(F.jsx)(N,{})]})},te=n(109),ne=n(198);function re(e){var t=new ne.a(e);return t.pollingInterval=12e3,t}var ae=function(){return Object(F.jsxs)(te.a,{basename:"",children:[Object(F.jsx)(R,{}),Object(F.jsx)(h.b,{getLibrary:re,children:Object(F.jsx)(ie,{children:Object(F.jsxs)(v.d,{children:[Object(F.jsxs)(W.d,{children:[Object(F.jsx)(I,{path:"/profile",component:ce}),Object(F.jsx)(W.b,{exact:!0,path:"/",component:ee})]}),Object(F.jsx)(B,{})]})})})]})},ce=function(){var e=k(),t=e.user,n=e.tokensOnSale;if(!t)return null;var r=t.address,a=t.balance,c=t.ownedTokens;return Object(F.jsxs)(v.a,{children:[Object(F.jsx)(v.h,{as:"h1",children:"My Profile"}),Object(F.jsxs)(v.g,{columns:["1fr","1fr 1fr"],sx:{overflow:"hidden",gap:"0 20px"},children:[Object(F.jsxs)(v.a,{children:[Object(F.jsx)(v.h,{as:"h4",sx:{color:"green"},children:"Address"}),Object(F.jsx)(v.n,{children:r})]}),Object(F.jsxs)(v.a,{children:[Object(F.jsx)(v.h,{as:"h4",sx:{color:"green"},children:"Balance"}),Object(F.jsxs)(v.n,{children:["\u039e ",a]})]})]}),Object(F.jsx)(v.e,{variant:"divider.nft",sx:{my:7}}),Object(F.jsx)(v.a,{my:5,children:c&&c.length>0?Object(F.jsxs)(v.a,{children:[Object(F.jsxs)(v.h,{as:"h2",children:["My items"," ",Object(F.jsxs)(v.n,{variant:"text.body",as:"span",children:["(",c.length," item)"]})]}),Object(F.jsx)(v.g,{gap:4,columns:["1fr 1fr","1fr 1fr 1fr"],children:c.map((function(e,t){return Object(F.jsx)(A,{isOnSale:!!(null===n||void 0===n?void 0:n.find((function(t){return O.b.formatUnits(t.id)===O.b.formatUnits(e.id)}))),onSale:!0,onTransfer:!0,token:e},t)}))})]}):c&&Object(F.jsx)(v.a,{children:Object(F.jsx)(v.h,{as:"h2",children:"You don't own any NFT tokens"})})})]})};function oe(e){return console.log(e),e instanceof q.b?"No Ethereum browser extension detected, install MetaMask on desktop or visit from a dApp browser on mobile.":e instanceof h.a?"You're connected to an unsupported network. Please connect to Rinkeby network":e instanceof q.c||e instanceof V.a?"Please authorize this website to access your Ethereum account.":(console.error(e),"An unknown error occurred. Check the console for more details.")}var ie=function(e){var t=e.children,n=k().activatingConnector,r=Object(h.c)(),a=r.library,o=r.chainId,i=r.account,s=r.error,u=k(Object(c.useCallback)((function(e){return{setContract:e.setContract,setUser:e.setUser}}),[])),l=u.setContract,d=u.setUser;return Object(g.a)(_,S),Object(c.useEffect)((function(){o&&i&&a&&function(){var e=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(a,o);case 3:d(i),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}()()}),[o,i,a,l,d]),function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(h.c)(),n=t.active,r=t.error;Object(c.useEffect)((function(){var e=window.ethereum;e&&(e.autoRefreshOnNetworkChange=!0)}),[n,r,e])}(!function(){var e=Object(h.c)(),t=e.activate,n=e.active,r=e.connector,a=Object(c.useState)(!1),o=Object(x.a)(a,2),i=o[0],s=o[1];return Object(c.useEffect)((function(){r===J&&J.isAuthorized().then((function(e){e?t(J,void 0,!0).catch((function(){s(!0)})):s(!0)}))}),[t,r]),Object(c.useEffect)((function(){!i&&n&&s(!0)}),[i,n]),i}()||!!n),Object(F.jsx)(F.Fragment,{children:s?Object(F.jsxs)(v.d,{children:[Object(F.jsx)(v.h,{as:"h2",children:"\u274c Something is not right"}),Object(F.jsx)(v.n,{sx:{mt:3},children:oe(s)})]}):t})},se={breakpoints:["40em","52em","64em"],space:[0,4,10,16,20,30,42,56,78,125,150],fontSizes:[10,12,16,26,36,50,75],fonts:{body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',heading:"inherit"},layout:{container:{py:4,px:3,pb:10}},sizes:Object(H.a)({},{header:60,container:1020,button:[100,250],logo:60,sidemenu:240,chart:950}),cards:{nft:{bg:"background",border:"1px solid",borderColor:"muted",textAlign:"left"},transaction:{bg:"amber",position:"fixed",top:50,right:20,p:4,borderRadius:10}},links:{nav:{color:"white",cursor:"pointer",transition:"all .2s ease-out","&:hover":{opacity:.5,color:"white"}},openSea:{color:"green",fontSize:1,opacity:.5,"&:after":{content:"url(\"data:image/svg+xml,%3Csvg width='8' height='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1.262 0l2.529 2.524L0 6.314 1.685 8l3.79-3.79L8 6.732V0z' fill='rgb(99, 255, 203)' fill-rule='nonzero' /%3E%3C/svg%3E\")",ml:1},transition:"all .2s ease-out","&:hover":{opacity:1,color:"green"}},owner:{color:"white",fontSize:1,opacity:.5,transition:"all .2s ease-out","&:hover":{opacity:1,color:"white"},"&:after":{content:"url(\"data:image/svg+xml,%3Csvg width='8' height='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1.262 0l2.529 2.524L0 6.314 1.685 8l3.79-3.79L8 6.732V0z' fill='white' fill-rule='nonzero' /%3E%3C/svg%3E\")",ml:1}}},buttons:{primary:Object(H.a)(Object(H.a)({},{border:0,fontFamily:"body",fontWeight:"normal",lineHeight:"body",fontSize:[1,2],paddingX:3,paddingY:2,outline:"none",whiteSpace:"nowrap",cursor:"pointer",transition:"all 0.1s ease-out","&:hover":{opacity:.7}}),{},{fontWeight:"bold",minWidth:"button",bg:"primary",color:"white",textAlign:"center",display:"flex",width:"100%",alignItems:"center",justifyContent:"center"}),secondary:{cursor:"pointer",variant:"buttons.primary",bg:"secondary",fontWeight:"body"},tertiary:{variant:"buttons.secondary",color:"white",bg:"primary"},quartiary:{variant:"buttons.tertiary",bg:"green",color:"black",minWidth:"auto",py:2},filter:{variant:"buttons.tertiary",bg:"lightGreen",color:"black",minWidth:"auto",py:1,fontSize:1,"&:disabled":{pointerEvents:"none",opacity:.5}},connect:{variant:"buttons.tertiary",py:4,px:5}},fontWeights:{heading:300,body:400,bold:700},lineHeights:{body:1.333333333,heading:1.066666667,subheading:2},colors:Object(H.a)({},{text:"#FFF",white:"#fff",background:"#333",primary:"#111",secondary:"#333",gray:"#F7F9FA",lightGray:"#e0e0e0",midGray:"#222",lightBlue:"#EFF7FF",navy:"#e0e0e0",green:"rgb(99, 255, 203)",amber:"#D58408",lightGreen:"#AEC",red:"#999",muted:"#999",transparent:"transparent",white20:"rgba(255, 255, 255, .2)",black66:"rgba(0, 0, 0, .66)"}),divider:{nft:{color:"muted",height:1,my:2}},forms:{input:{paddingX:2,paddingY:2,borderRadius:"5px",bg:"white",color:"primary"}},text:{body:{fontFamily:"body",fontWeight:"body",lineHeight:"body",fontSize:1},heading:{py:2},bold:{fontWeight:"bold"},paragraph:{fontFamily:"body",fontWeight:"body",lineHeight:2,fontSize:2,letterSpacing:.44,color:"white"},h1:{fontFamily:"heading",lineHeight:"heading",fontWeight:"heading",fontSize:6,letterSpacing:-.44},h2:{fontFamily:"heading",lineHeight:"heading",fontWeight:"heading",fontSize:5,letterSpacing:-.44},h3:{fontFamily:"heading",lineHeight:"subheading",fontWeight:"heading",fontSize:3},h4:{fontFamily:"heading",lineHeight:"subheading",fontWeight:"bold",fontSize:[1,2]},h5:{fontFamily:"heading",fontWeight:"bold",lineHeight:1.6,fontSize:0,letterSpacing:1.5}},styles:{root:{fontFamily:"body",lineHeight:"body",fontWeight:"body"},a:{color:"primary","&:hover":{color:"inherit"}},hr:{height:1,opacity:.5,bg:"black",color:"black",my:6}}};l.a({dsn:"https://06951a956c7a4a6db2f776b1bc697efd@o72860.ingest.sentry.io/5842491",integrations:[new d.a.BrowserTracing],enabled:!0,tracesSampleRate:1}),s.a.render(Object(F.jsx)(o.a.StrictMode,{children:Object(F.jsx)(u.a,{theme:se,children:Object(F.jsx)(ae,{})})}),document.getElementById("root")),b()}},[[185,1,2]]]);
//# sourceMappingURL=main.0f548619.chunk.js.map